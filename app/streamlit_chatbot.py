import streamlit as st
from typing import List, Dict

# Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÙˆØ§Ù„Ø§Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ
questions_data = [
    {
        "category": "ØªØ­Ù„ÛŒÙ„ ÙØ±ÙˆØ´",
        "questions": [
            "Ú©Ø§Ø±Ù…Ø²Ø¯ Ùˆ ÙØ±ÙˆØ´ Ø¯Ù‡ Ø±ÙˆØ² Ú¯Ø°Ø´ØªÙ‡ Ú†Ù‚Ø¯Ø± Ø¨ÙˆØ¯Ù‡ Ùˆ Ú†Ù†Ø¯ Ø¯Ø±ØµØ¯ ÙØ±ÙˆØ´ Ú©Ø§Ø±Ù…Ø²Ø¯ Ø¨ÙˆØ¯Ù‡ØŸ",
            "Ø¯Ø± Ú©Ø¯Ø§Ù… Ø²ÛŒØ± Ø¯Ø³ØªÙ‡ Ø³Ø·Ø­ Ø³ÙˆÙ… Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø±Ø´Ø¯ ÙØ±ÙˆØ´ Ø±Ø§ Ø¯Ø± Û¹ Ù…Ø§Ù‡ Ú¯Ø°Ø´ØªÙ‡ Ø¯Ø§Ø´ØªÙ‡â€ŒØ§ÛŒÙ…ØŸ",
            "Ù…Ù‚Ø§ÛŒØ³Ù‡ ÙØ±ÙˆØ´ Ù…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ Ø¨Ø§ Ù…Ø§Ù‡ Ù‚Ø¨Ù„ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªØŸ",
            "Ù¾Ø±ÙØ±ÙˆØ´â€ŒØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¯Ø± Ù…Ø§Ù‡ Ú¯Ø°Ø´ØªÙ‡ Ú©Ø¯Ø§Ù… Ø¨ÙˆØ¯Ù‡â€ŒØ§Ù†Ø¯ØŸ",
            "Ø±ÙˆÙ†Ø¯ ÙØ±ÙˆØ´ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¯Ø± Ù…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªØŸ"
        ]
    },
    {
        "category": "ØªØ­Ù„ÛŒÙ„ Ù…Ø´ØªØ±ÛŒØ§Ù†",
        "questions": [
            "Ø¯Ø±ØµØ¯ Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¨Ø§Ø²Ú¯Ø´ØªÛŒ (Ø±ÛŒØªØ±Ù†) Ø¯Ø± Ù‡Ø± Ù…Ø§Ù‡ Ú†Ù‚Ø¯Ø± Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ",
            "ØªØ¹Ø¯Ø§Ø¯ Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¬Ø¯ÛŒØ¯ Ùˆ Ø¨Ø§Ø²Ú¯Ø´ØªÛŒ Ø¯Ø± Ù‡Ø± Ù…Ø§Ù‡ Ú†Ù‚Ø¯Ø± Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ",
            "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø®Ø±ÛŒØ¯ Ù‡Ø± Ù…Ø´ØªØ±ÛŒ Ø¯Ø± Ù…Ø§Ù‡ Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ",
            "ÙˆÙØ§Ø¯Ø§Ø±ØªØ±ÛŒÙ† Ù…Ø´ØªØ±ÛŒØ§Ù† Ù…Ø§ Ú†Ù‡ Ú©Ø³Ø§Ù†ÛŒ Ù‡Ø³ØªÙ†Ø¯ØŸ",
            "ØªÙˆØ²ÛŒØ¹ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù† Ù…Ø§ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªØŸ"
        ]
    },
    {
        "category": "Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª",
        "questions": [
            "Ú©Ø¯Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯ Ù‡Ø³ØªÙ†Ø¯ØŸ",
            "Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù… Ú©Ø¯Ø§Ù… Ù‡Ø³ØªÙ†Ø¯ØŸ",
            "Ú©Ø¯Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø­Ø§Ø´ÛŒÙ‡ Ø³ÙˆØ¯ Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯ØŸ",
            "Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ù†Ø±Ø® Ø®Ø±ÛŒØ¯ Ù…Ø¬Ø¯Ø¯ Ú©Ø§Ø±Ø¨Ø± Ú©Ø¯Ø§Ù… Ù‡Ø³ØªÙ†Ø¯ØŸ",
            "Ú©Ø¯Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‚ÛŒÙ…Øª Ø¯Ø§Ø±Ù†Ø¯ØŸ"
        ]
    },
    {
        "category": "Ú©ÛŒÙÛŒØª Ø®Ø¯Ù…Ø§Øª",
        "questions": [
            "Ù†Ø±Ø® Ú©Ù†Ø³Ù„ÛŒ Ù…Ø§Ù‡ÛŒØ§Ù†Ù‡ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ Ø¯Ø± Ø¯Ù‡ Ù…Ø§Ù‡ Ú¯Ø°Ø´ØªÙ‡ Ú†Ù‚Ø¯Ø± Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ",
            "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù† Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù† Ú†Ù‚Ø¯Ø± Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ",
            "Ù†Ø±Ø® Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¯Ø± Ù…Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ± Ú†Ú¯ÙˆÙ†Ù‡ Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ",
            "Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø¯Ù„Ø§ÛŒÙ„ Ù…Ø±Ø¬ÙˆØ¹ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ú†Ù‡ Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ",
            "ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ Ø¨Ù‡ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù† Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªØŸ"
        ]
    }
]

# Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§ Ú©Ù„ÛŒØ¯ÙˆØ§Ú˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÙˆØ¹ Ùˆ Ù…Ù†Ø·Ù‚ AND
responses = [
    {
        "keywords": ["Ú©Ø§Ø±Ù…Ø²Ø¯", "ÙØ±ÙˆØ´", "Ù¾Ø±Ø¯Ø§Ø®Øª", "Ù…Ø¨Ù„Øº Ú©Ø§Ø±Ù…Ø²Ø¯", "Ú©Ø§Ø±Ù…Ø²Ø¯ Ù¾Ø±Ø¯Ø§Ø®ØªÛŒ", "Ú†Ù‚Ø¯Ø± Ú©Ø§Ø±Ù…Ø²Ø¯", "Ø¯Ø±ØµØ¯ ÙØ±ÙˆØ´ Ú©Ø§Ø±Ù…Ø²Ø¯", "Ú©Ø§Ø±Ù…Ø²Ø¯ Ø¯Ù‡ Ø±ÙˆØ²"],
        "answer": "ğŸ“Š Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ø±Ù…Ø²Ø¯ Ùˆ ÙØ±ÙˆØ´ Ø¯Ù‡ Ø±ÙˆØ² Ú¯Ø°Ø´ØªÙ‡:\n\nğŸ’° Ú©Ù„ ÙØ±ÙˆØ´: 1,250,000,000 ØªÙˆÙ…Ø§Ù†\nğŸ’¸ Ú©Ø§Ø±Ù…Ø²Ø¯: 125,000,000 ØªÙˆÙ…Ø§Ù† (10%)\nğŸ“ˆ Ø¯Ø±ØµØ¯ Ú©Ø§Ø±Ù…Ø²Ø¯ Ø§Ø² Ú©Ù„ ÙØ±ÙˆØ´: 10%\n\nØªÙÚ©ÛŒÚ© Ø±ÙˆØ²Ø§Ù†Ù‡:\nâ€¢ Ø±ÙˆØ² 1: 120M ÙØ±ÙˆØ´ØŒ 12M Ú©Ø§Ø±Ù…Ø²Ø¯\nâ€¢ Ø±ÙˆØ² 2: 115M ÙØ±ÙˆØ´ØŒ 11.5M Ú©Ø§Ø±Ù…Ø²Ø¯\nâ€¢ Ø±ÙˆØ² 3: 130M ÙØ±ÙˆØ´ØŒ 13M Ú©Ø§Ø±Ù…Ø²Ø¯\nâ€¢ Ø±ÙˆØ² 4: 125M ÙØ±ÙˆØ´ØŒ 12.5M Ú©Ø§Ø±Ù…Ø²Ø¯\nâ€¢ Ø±ÙˆØ² 5: 140M ÙØ±ÙˆØ´ØŒ 14M Ú©Ø§Ø±Ù…Ø²Ø¯\n\nğŸ¯ ØªØ­Ù„ÛŒÙ„: Ú©Ø§Ø±Ù…Ø²Ø¯ Ø¯Ø± Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ 8-12% Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯ Ùˆ Ø±ÙˆÙ†Ø¯ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§Ø³Øª."
    },
    {
        "keywords": ["Ù…Ù‚Ø§ÛŒØ³Ù‡", "ÙØ±ÙˆØ´", "Ø±Ø´Ø¯", "Ù…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ", "Ù…Ø§Ù‡ Ù‚Ø¨Ù„", "Ù…Ù‚Ø§ÛŒØ³Ù‡ ÙØ±ÙˆØ´", "Ø±Ø´Ø¯ ÙØ±ÙˆØ´"],
        "answer": "ğŸ“ˆ Ù…Ù‚Ø§ÛŒØ³Ù‡ ÙØ±ÙˆØ´ Ù…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ Ø¨Ø§ Ù…Ø§Ù‡ Ù‚Ø¨Ù„:\n\nÙ…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ: 3,450,000,000 ØªÙˆÙ…Ø§Ù†\nÙ…Ø§Ù‡ Ù‚Ø¨Ù„: 2,980,000,000 ØªÙˆÙ…Ø§Ù†\nØ±Ø´Ø¯: +15.8% (470M ØªÙˆÙ…Ø§Ù†)\n\nğŸ† Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ±:\n1. Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©: +25% Ø±Ø´Ø¯\n2. Ù¾ÙˆØ´Ø§Ú©: +12% Ø±Ø´Ø¯\n3. Ú©ØªØ§Ø¨: +8% Ø±Ø´Ø¯\n4. Ù„ÙˆØ§Ø²Ù… Ø®Ø§Ù†Ú¯ÛŒ: +18% Ø±Ø´Ø¯\n\nØ±ÙˆÙ†Ø¯ Ù‡ÙØªÚ¯ÛŒ:\nâ€¢ Ù‡ÙØªÙ‡ 1: 850M\nâ€¢ Ù‡ÙØªÙ‡ 2: 920M\nâ€¢ Ù‡ÙØªÙ‡ 3: 880M\nâ€¢ Ù‡ÙØªÙ‡ 4: 800M (Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ)\n\nğŸ¯ Ù†ØªÛŒØ¬Ù‡: Ø±Ø´Ø¯ Ù…Ø«Ø¨Øª Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø¯Ø± ØªÙ…Ø§Ù… Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯."
    },
    {
        "keywords": ["Ù¾Ø±ÙØ±ÙˆØ´", "Ù…Ø­ØµÙˆÙ„Ø§Øª", "Ù¾Ø±ÙØ±ÙˆØ´â€ŒØªØ±ÛŒÙ†", "Ù¾Ø±ÙØ±ÙˆØ´ ØªØ±ÛŒÙ†", "Ù…Ø­ØµÙˆÙ„Ø§Øª Ù¾Ø±ÙØ±ÙˆØ´", "Ù¾Ø±ÙØ±ÙˆØ´ Ù…Ø§Ù‡"],
        "answer": "ğŸ† Ù¾Ø±ÙØ±ÙˆØ´â€ŒØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø§Ù‡ Ú¯Ø°Ø´ØªÙ‡:\n\n1. ğŸ“± iPhone 15 Pro - 156 ÙØ±ÙˆØ´ - 5.4M ØªÙˆÙ…Ø§Ù†\n2. ğŸ’» Dell XPS 13 - 89 ÙØ±ÙˆØ´ - 4.0M ØªÙˆÙ…Ø§Ù†\n3. ğŸ“± Samsung Galaxy S24 - 134 ÙØ±ÙˆØ´ - 3.8M ØªÙˆÙ…Ø§Ù†\n4. ğŸ§ AirPods Pro - 245 ÙØ±ÙˆØ´ - 2.9M ØªÙˆÙ…Ø§Ù†\n5. âŒš Apple Watch - 98 ÙØ±ÙˆØ´ - 1.2M ØªÙˆÙ…Ø§Ù†\n\nØ¢Ù…Ø§Ø± Ú©Ù„ÛŒ:\nâ€¢ Ú©Ù„ ÙØ±ÙˆØ´: 17.3M ØªÙˆÙ…Ø§Ù†\nâ€¢ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‚ÛŒÙ…Øª: 346,000 ØªÙˆÙ…Ø§Ù†\nâ€¢ ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ ÙØ±ÙˆØ´: 722 Ø¹Ø¯Ø¯\n\nØ±ÙˆÙ†Ø¯: Ø±Ø´Ø¯ 15% Ù†Ø³Ø¨Øª Ø¨Ù‡ Ù…Ø§Ù‡ Ù‚Ø¨Ù„ Ø¯Ø± ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø±ØªØ±"
    },
    {
        "keywords": ["Ù…Ø­ØµÙˆÙ„Ø§Øª", "Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯", "Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯", "Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯", "Ù…Ø­ØµÙˆÙ„Ø§Øª Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯", "Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯ Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯"],
        "answer": "âš ï¸ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯:\n\n1. ğŸ“± iPhone 15 Pro Max (256GB) - 89 Ø¨Ø§Ø²Ø¯ÛŒØ¯/Ø±ÙˆØ²\n2. ğŸ’» MacBook Air M2 - 67 Ø¨Ø§Ø²Ø¯ÛŒØ¯/Ø±ÙˆØ²\n3. ğŸ§ Sony WH-1000XM5 - 45 Ø¨Ø§Ø²Ø¯ÛŒØ¯/Ø±ÙˆØ²\n4. ğŸ“± Samsung Galaxy S24 Ultra - 34 Ø¨Ø§Ø²Ø¯ÛŒØ¯/Ø±ÙˆØ²\n5. âŒš Apple Watch Series 9 - 28 Ø¨Ø§Ø²Ø¯ÛŒØ¯/Ø±ÙˆØ²\n\nØ¢Ù…Ø§Ø±:\nâ€¢ Ú©Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯: 23 Ø¹Ø¯Ø¯\nâ€¢ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡: 52.6\nâ€¢ ØªØ®Ù…ÛŒÙ† ÙØ±ÙˆØ´ Ø§Ø² Ø¯Ø³Øª Ø±ÙØªÙ‡: 2.1M ØªÙˆÙ…Ø§Ù†/Ø±ÙˆØ²\n\nğŸ¯ ØªÙˆØµÛŒÙ‡: Ø§ÙØ²Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¯Ø± Ø§ÙˆÙ„ÙˆÛŒØª Ø§Ø³Øª."
    },
    {
        "keywords": ["Ù†Ø±Ø® Ø±Ø¶Ø§ÛŒØª", "Ø±Ø¶Ø§ÛŒØª", "Ù…ÛŒØ²Ø§Ù† Ø±Ø¶Ø§ÛŒØª", "Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù†", "Ø±Ø¶Ø§ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†", "Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒ"],
        "answer": "â­ Ù†Ø±Ø® Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ù…Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±:\n\nØ¢Ù…Ø§Ø± Ú©Ù„ÛŒ:\nâ€¢ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø±Ø¶Ø§ÛŒØª: 4.2/5 (84%)\nâ€¢ ØªØ¹Ø¯Ø§Ø¯ Ù†Ø¸Ø±Ø§Øª: 1,247\nâ€¢ Ø±Ø¶Ø§ÛŒØª Ù…Ø«Ø¨Øª: 1,047 (84%)\nâ€¢ Ø±Ø¶Ø§ÛŒØª Ù…Ù†ÙÛŒ: 200 (16%)\n\nØ±ÙˆÙ†Ø¯ Ù…Ø§Ù‡Ø§Ù†Ù‡:\nâ€¢ ÙØ±ÙˆØ±Ø¯ÛŒÙ†: 4.1/5\nâ€¢ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª: 4.2/5\nâ€¢ Ø®Ø±Ø¯Ø§Ø¯: 4.3/5\nâ€¢ ØªÛŒØ±: 4.2/5\n\nğŸ† Ø¹ÙˆØ§Ù…Ù„ Ø±Ø¶Ø§ÛŒØª:\n1. Ú©ÛŒÙÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª: 4.4/5\n2. Ø³Ø±Ø¹Øª Ø§Ø±Ø³Ø§Ù„: 4.1/5\n3. Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ: 4.0/5\n4. Ù‚ÛŒÙ…Øª: 3.9/5\n\nğŸ¯ Ø¨Ù‡Ø¨ÙˆØ¯: ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ø¨Ù‡Ø¨ÙˆØ¯ Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ"
    }
]

def generate_response(question: str) -> str:
    lower_question = question.lower()
    word_count = len(lower_question.split())
    for item in responses:
        match_count = sum(1 for key in item["keywords"] if key in lower_question)
        if (word_count <= 5 and match_count >= 1) or (word_count > 5 and match_count >= 2) or (len(item["keywords"]) == 1 and match_count == 1):
            return item["answer"]
    return "ğŸ¤– Ù…Ù† Ø¨Ù‡ Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ù†Ø¯Ø§Ø±Ù…. Ù„Ø·ÙØ§Ù‹ Ø³ÙˆØ§Ù„ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ ÙØ±ÙˆØ´ØŒ Ù…Ø´ØªØ±ÛŒ ÛŒØ§ Ù…Ø­ØµÙˆÙ„Ø§Øª ØºØ±ÙÙ‡ Ø¨Ù¾Ø±Ø³."

# --- UI Streamlit ---
st.set_page_config(page_title="Ø¯Ø³ØªÛŒØ§Ø± ØºØ±ÙÙ‡â€ŒØ¯Ø§Ø±Ø§Ù† Ø¨Ø§Ø³Ù„Ø§Ù…", page_icon="ğŸ¤–", layout="wide")
st.markdown("""
    <style>
    .stChatMessage.user {background: #ede9fe !important; color: #4b2997 !important; border-radius: 1.5rem 1.5rem 0.5rem 1.5rem;}
    .stChatMessage.assistant {background: #fff !important; color: #4b2997 !important; border-radius: 1.5rem 1.5rem 1.5rem 0.5rem; border: 1px solid #ede9fe;}
    .stButton>button {background: #ede9fe; color: #4b2997; border-radius: 8px; border: none;}
    .stButton>button:hover {background: #c4b5fd; color: #fff;}
    .sidebar-category {font-weight: bold; color: #7c3aed; margin-top: 1.5rem; margin-bottom: 0.5rem;}
    .sidebar-question {background: #f3f0ff; color: #4b2997; border-radius: 8px; padding: 0.5rem 1rem; margin-bottom: 0.5rem; cursor: pointer; transition: background 0.2s;}
    .sidebar-question:hover {background: #ede9fe;}
    </style>
""", unsafe_allow_html=True)

if "history" not in st.session_state:
    st.session_state["history"] = []

st.title("ğŸ¤– Ø¯Ø³ØªÛŒØ§Ø± ØºØ±ÙÙ‡â€ŒØ¯Ø§Ø±Ø§Ù† Ø¨Ø§Ø³Ù„Ø§Ù…")

# Sidebar
with st.sidebar:
    st.markdown("## Ø³ÙˆØ§Ù„Ø§Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ")
    for cat in questions_data:
        st.markdown(f'<div class="sidebar-category">{cat["category"]}</div>', unsafe_allow_html=True)
        for q in cat["questions"]:
            if st.button(q, key=f"sidebar_{q}"):
                st.session_state["history"].append({"role": "user", "content": q})
                st.session_state["history"].append({"role": "assistant", "content": generate_response(q)})
                st.experimental_rerun()

# Chat UI
for i, msg in enumerate(st.session_state["history"]):
    is_user = msg["role"] == "user"
    with st.chat_message("user" if is_user else "assistant"):
        st.markdown(msg["content"])
        # Ø¯Ú©Ù…Ù‡ ÙÛŒØ¯Ø¨Ú© ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ù… Ù…Ø¯Ù„
        if not is_user:
            col1, col2 = st.columns([1,1])
            with col1:
                if st.button("ğŸ‘ Ø¨Ù„Ù‡ØŒ Ù…ÙÛŒØ¯ Ø¨ÙˆØ¯", key=f"like_{i}"):
                    st.toast("Ù…Ù…Ù†ÙˆÙ† Ø§Ø² Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯Øª! ğŸ˜Š")
            with col2:
                if st.button("ğŸ‘ Ù†Ù‡ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¯Ø§Ø±Ù‡", key=f"dislike_{i}"):
                    st.toast("Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯Øª Ø«Ø¨Øª Ø´Ø¯ØŒ Ù…Ù…Ù†ÙˆÙ†! ğŸ™")

# Chat input
user_input = st.chat_input("Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...")
if user_input:
    st.session_state["history"].append({"role": "user", "content": user_input})
    st.session_state["history"].append({"role": "assistant", "content": generate_response(user_input)})
    st.experimental_rerun() 